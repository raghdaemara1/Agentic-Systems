<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Agentic AI System Demo ‚Äî Raghda Emara</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.2/babel.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@300;400;500;600&display=swap" rel="stylesheet">
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { background: #0A0A0F; }
    ::-webkit-scrollbar { width: 4px; }
    ::-webkit-scrollbar-track { background: #0A0A0F; }
    ::-webkit-scrollbar-thumb { background: #2D3748; border-radius: 2px; }
    .agent-card { background: #111118; border: 1px solid #1E2130; border-radius: 8px; transition: all 0.2s ease; }
    .agent-card:hover { border-color: #2D3748; }
    .tool-chip { display: inline-flex; align-items: center; gap: 6px; padding: 4px 10px; border-radius: 4px; font-size: 11px; font-weight: 500; letter-spacing: 0.05em; text-transform: uppercase; border: 1px solid; }
    .pulse-dot { width: 6px; height: 6px; border-radius: 50%; animation: pulse 1s infinite; }
    @keyframes pulse { 0%,100%{opacity:1;transform:scale(1)} 50%{opacity:0.4;transform:scale(0.8)} }
    .step-enter { animation: slideIn 0.3s ease forwards; }
    @keyframes slideIn { from{opacity:0;transform:translateX(-8px)} to{opacity:1;transform:translateX(0)} }
    .result-enter { animation: fadeUp 0.5s ease forwards; }
    @keyframes fadeUp { from{opacity:0;transform:translateY(12px)} to{opacity:1;transform:translateY(0)} }
    .grid-bg { background-image: linear-gradient(rgba(255,255,255,0.02) 1px,transparent 1px),linear-gradient(90deg,rgba(255,255,255,0.02) 1px,transparent 1px); background-size: 40px 40px; }
    .scenario-btn { background:#111118; border:1px solid #1E2130; border-radius:6px; padding:8px 14px; color:#94A3B8; cursor:pointer; font-family:'IBM Plex Mono',monospace; font-size:12px; transition:all 0.2s ease; }
    .scenario-btn:hover:not(:disabled) { border-color:#00D4FF; color:#00D4FF; background:rgba(0,212,255,0.05); }
    .scenario-btn:disabled { opacity:0.4; cursor:not-allowed; }
    .reset-btn { background:#111118; border:1px solid #FF6B35; border-radius:6px; padding:8px 14px; color:#FF6B35; cursor:pointer; font-family:'IBM Plex Mono',monospace; font-size:12px; transition:all 0.2s ease; margin-left:auto; }
    .reset-btn:hover { background:rgba(255,107,53,0.08); }
    .active-tool-glow { box-shadow:0 0 20px rgba(0,212,255,0.3); border-color:#00D4FF !important; }
    @keyframes memoryFlash { 0%{background:rgba(0,212,255,0.15)} 100%{background:transparent} }
    .memory-flash { animation: memoryFlash 0.8s ease; }
    .layout { display:flex; height:calc(100vh - 45px - 37px); overflow:hidden; }
    .left-panel { width:260px; border-right:1px solid #1E2130; padding:16px; display:flex; flex-direction:column; gap:16px; overflow-y:auto; flex-shrink:0; }
    .main-panel { flex:1; display:flex; flex-direction:column; overflow:hidden; }
    .scenarios-bar { padding:14px 20px; border-bottom:1px solid #1E2130; display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
    .content-area { flex:1; display:flex; overflow:hidden; }
    .trace-panel { width:50%; border-right:1px solid #1E2130; padding:16px; overflow-y:auto; display:flex; flex-direction:column; gap:10px; }
    .output-panel { width:50%; padding:16px; overflow-y:auto; }
    .empty-state { flex:1; display:flex; align-items:center; justify-content:center; flex-direction:column; gap:12px; color:#2D3748; }
    .section-label { font-size:10px; color:#475569; letter-spacing:0.15em; text-transform:uppercase; margin-bottom:10px; font-family:'IBM Plex Mono',monospace; }
  </style>
</head>
<body>
<div id="root"></div>
<script type="text/babel">
const { useState, useEffect } = React;

const AGENT_TOOLS = {
  memory:   { name:"Memory Store",  icon:"üß†", color:"#00D4FF", desc:"Persistent context across turns" },
  planner:  { name:"Task Planner",  icon:"üìã", color:"#FF6B35", desc:"Breaks goals into executable steps" },
  search:   { name:"Web Search",    icon:"üîç", color:"#7C3AED", desc:"Retrieves real-time information" },
  executor: { name:"Code Executor", icon:"‚ö°", color:"#10B981", desc:"Runs code and returns results" },
  router:   { name:"LLM Router",    icon:"üîÄ", color:"#F59E0B", desc:"Routes to optimal model per task" },
};

const SCENARIOS = [
  {
    id:1, label:"Research & Summarize",
    query:"Research the latest advances in RAG systems and create a summary report",
    steps:[
      {tool:"planner",  thought:"Breaking this into: search ‚Üí extract key findings ‚Üí synthesize ‚Üí format report", duration:700},
      {tool:"memory",   thought:"Loading context: user prefers technical depth, markdown format", duration:400},
      {tool:"router",   thought:"Routing search subtask ‚Üí GPT-4o (web retrieval capability)", duration:300},
      {tool:"search",   thought:"Querying: 'RAG advances 2025 GraphRAG hybrid retrieval benchmarks'", duration:1100},
      {tool:"search",   thought:"Querying: 'LangChain LlamaIndex retrieval production 2025'", duration:900},
      {tool:"executor", thought:"Extracting + deduplicating results, ranking by recency & citation count", duration:700},
      {tool:"memory",   thought:"Storing: user researched RAG systems ‚Äî flag for future personalization", duration:300},
      {tool:"router",   thought:"Switching to Claude 3.5 Sonnet ‚Üí long-form report generation", duration:400},
    ],
    result:`## RAG Systems: State of the Art (2025)\n\nKey Advances Identified:\n\n1. GraphRAG (Microsoft) ‚Äî Combines knowledge graphs with vector retrieval. Reduces hallucination by 40% on multi-hop queries by grounding answers in explicit entity relationships.\n\n2. Hybrid Retrieval Fusion ‚Äî BM25 sparse + dense vector + graph traversal running in parallel, merged via Reciprocal Rank Fusion. 35% recall improvement over single-method baseline.\n\n3. Agentic RAG ‚Äî Multi-step retrieval where agents decide when to retrieve, what to retrieve, and how many times to iterate. Enables complex reasoning chains impossible with single-pass RAG.\n\n4. Contextual Compression ‚Äî LLM-driven chunk reranking reduces prompt tokens by 60% while preserving answer quality.\n\nProduction Recommendation: Hybrid GraphRAG with agentic orchestration for complex domains. Pure vector for FAQ / simple lookups.`
  },
  {
    id:2, label:"Multi-Step Analysis",
    query:"Analyze our Q3 sales data, identify trends, and recommend actions for Q4",
    steps:[
      {tool:"planner",  thought:"Plan: retrieve data ‚Üí statistical analysis ‚Üí trend detection ‚Üí recommendations", duration:700},
      {tool:"memory",   thought:"Loading context: company is B2B SaaS, Q2 analysis flagged churn risk in SMB", duration:500},
      {tool:"router",   thought:"Data analysis task ‚Üí routing to GPT-4 with code interpreter", duration:300},
      {tool:"executor", thought:"Running: revenue_by_segment.groupby('month').agg({'mrr':'sum','churn':'mean'})", duration:1100},
      {tool:"executor", thought:"Running: trend_analysis(df, window=90, method='linear_regression')", duration:800},
      {tool:"search",   thought:"Querying: 'B2B SaaS Q3 2025 industry benchmark churn rates'", duration:900},
      {tool:"memory",   thought:"Storing: Q3 complete ‚Äî MRR growth +12%, churn increased 2.1% in SMB", duration:300},
      {tool:"router",   thought:"Switching to Claude ‚Üí strategic narrative + recommendation generation", duration:400},
    ],
    result:`## Q3 Analysis & Q4 Strategy\n\nTrends Detected:\n‚Ä¢ MRR Growth: +12% QoQ ‚úÖ (above industry avg of 8%)\n‚Ä¢ Churn Rate: 4.3% ‚Üí 6.4% ‚ö†Ô∏è  (flagged: 2.1% increase)\n‚Ä¢ Top Segment: Enterprise >500 seats ‚Äî 94% retention\n‚Ä¢ Risk Segment: SMB <50 seats ‚Äî 71% retention (down from 81%)\n\nRoot Cause (cross-referenced with Q2 memory):\nSMB churn spike correlates with onboarding friction flagged in Q2.\nUsers who don't complete setup in week 1 have 3x higher 90-day churn.\n\nQ4 Recommended Actions:\n1. [Immediate] Deploy guided onboarding for SMB ‚Äî projected churn reduction: 1.8%\n2. [30 days] Launch SMB success program ‚Äî proactive check-ins at Day 7 & 30\n3. [60 days] Introduce SMB-specific pricing tier to reduce sticker shock\n4. [Revenue protect] Upsell opportunity identified in 23 enterprise accounts`
  },
  {
    id:3, label:"Autonomous Execution",
    query:"Monitor our API, detect any anomalies, fix the issue, and notify the team",
    steps:[
      {tool:"planner",  thought:"Decomposing: monitor ‚Üí detect ‚Üí diagnose ‚Üí fix ‚Üí test ‚Üí notify", duration:600},
      {tool:"executor", thought:"Running health_check() on all API endpoints ‚Äî checking latency, error rates", duration:1000},
      {tool:"memory",   thought:"Loading baseline: normal p95 latency = 120ms, error rate < 0.5%", duration:400},
      {tool:"executor", thought:"ANOMALY: /api/v2/search ‚Äî p95 latency: 4200ms, error rate: 12.3%", duration:800},
      {tool:"executor", thought:"Pulling logs: tail -n 1000 /var/log/api/search.log | grep ERROR", duration:700},
      {tool:"router",   thought:"Diagnosis task ‚Üí routing to GPT-4 for log pattern analysis", duration:300},
      {tool:"executor", thought:"Identified: vector DB connection pool exhausted (max=10, current=10/10)", duration:600},
      {tool:"executor", thought:"Applying fix: UPDATE config SET max_connections=50 WHERE service='pinecone'", duration:500},
      {tool:"executor", thought:"Restarting service, running post-fix validation tests...", duration:900},
      {tool:"memory",   thought:"Storing: incident 14:32-14:41 UTC ‚Äî connection pool exhausted, fix applied", duration:300},
    ],
    result:`## Incident Report ‚Äî Auto-Resolved ‚úÖ\n\nIncident: Search API Degradation\nDuration: 14:32 - 14:41 UTC (9 minutes)\nImpact: 12.3% error rate on /api/v2/search\n\nRoot Cause:\nPinecone vector DB connection pool exhausted (limit: 10).\nTraffic spike at 14:30 from batch job competing with live requests.\n\nFix Applied (automated):\n‚Ä¢ Connection pool limit increased: 10 ‚Üí 50\n‚Ä¢ Search service restarted cleanly\n‚Ä¢ Post-fix: ‚úÖ latency 118ms p95, error rate 0.2%\n\nPreventive Actions Queued:\n1. Add connection pool alert at 80% utilization\n2. Schedule batch jobs to off-peak hours (02:00‚Äì04:00 UTC)\n3. Implement circuit breaker on /api/v2/search\n\nTeam Notified: Slack #incidents + PagerDuty resolved\nStatus: RESOLVED ‚Äî No human intervention required`
  }
];

function App() {
  const [activeScenario, setActiveScenario] = useState(null);
  const [isRunning, setIsRunning]           = useState(false);
  const [completedSteps, setCompletedSteps] = useState([]);
  const [activeStep, setActiveStep]         = useState(null);
  const [showResult, setShowResult]         = useState(false);
  const [activeTool, setActiveTool]         = useState(null);
  const [memFlash, setMemFlash]             = useState(false);
  const [memory, setMemory] = useState([
    "User prefers technical depth over summaries",
    "Company: B2B SaaS ‚Äî Q2 churn risk flagged in SMB segment",
    "Preferred output format: structured with clear sections",
  ]);

  const runScenario = async (scenario) => {
    setActiveScenario(scenario); setIsRunning(true);
    setCompletedSteps([]); setActiveStep(null); setShowResult(false);
    for (let i = 0; i < scenario.steps.length; i++) {
      const step = scenario.steps[i];
      setActiveStep({...step, index:i}); setActiveTool(step.tool);
      await new Promise(r => setTimeout(r, step.duration));
      setCompletedSteps(prev => [...prev, {...step, index:i}]);
      if (step.tool === "memory" && step.thought.startsWith("Storing:")) {
        setMemory(prev => [step.thought.replace("Storing: ",""), ...prev.slice(0,4)]);
        setMemFlash(true); setTimeout(() => setMemFlash(false), 800);
      }
    }
    setActiveStep(null); setActiveTool(null); setShowResult(true); setIsRunning(false);
  };

  const reset = () => { setActiveScenario(null); setIsRunning(false); setCompletedSteps([]); setActiveStep(null); setShowResult(false); setActiveTool(null); };

  const S = (style) => style;

  return (
    <div className="grid-bg" style={S({minHeight:"100vh", fontFamily:"'IBM Plex Mono',monospace", color:"#E2E8F0"})}>

      {/* HEADER */}
      <div style={S({borderBottom:"1px solid #1E2130", padding:"12px 24px", display:"flex", alignItems:"center", justifyContent:"space-between", background:"rgba(10,10,15,0.95)", position:"sticky", top:0, zIndex:100})}>
        <div style={S({display:"flex", alignItems:"center", gap:12})}>
          <div style={S({width:8, height:8, borderRadius:"50%", background:"#10B981", boxShadow:"0 0 8px #10B981", animation:"pulse 2s infinite"})} />
          <span style={S({fontSize:13, color:"#64748B", letterSpacing:"0.1em"})}>AGENTIC_AI_SYSTEM</span>
          <span style={S({color:"#1E2130"})}>|</span>
          <span style={S({fontSize:11, color:"#475569"})}>v2.4.1 ‚Äî production</span>
        </div>
        <div style={S({display:"flex", gap:16, fontSize:11, color:"#475569"})}>
          {["LangGraph","GPT-4o","Claude","Memory"].map(s=><span key={s}>{s} <span style={S({color:"#10B981"})}>‚óè</span></span>)}
        </div>
      </div>

      {/* BODY */}
      <div className="layout">

        {/* LEFT */}
        <div className="left-panel">
          <div>
            <div className="section-label">Agent Tools</div>
            <div style={S({display:"flex", flexDirection:"column", gap:6})}>
              {Object.entries(AGENT_TOOLS).map(([key, tool]) => (
                <div key={key} className={`agent-card ${activeTool===key?"active-tool-glow":""}`} style={S({padding:"9px 12px"})}>
                  <div style={S({display:"flex", alignItems:"center", gap:8, marginBottom:3})}>
                    <span style={S({fontSize:14})}>{tool.icon}</span>
                    <span style={S({fontSize:11, fontWeight:600, color:activeTool===key?tool.color:"#94A3B8"})}>{tool.name}</span>
                    {activeTool===key && <div className="pulse-dot" style={S({background:tool.color, marginLeft:"auto"})} />}
                  </div>
                  <div style={S({fontSize:10, color:"#475569", paddingLeft:22})}>{tool.desc}</div>
                </div>
              ))}
            </div>
          </div>
          <div>
            <div className="section-label">Agent Memory</div>
            <div style={S({display:"flex", flexDirection:"column", gap:4})}>
              {memory.map((item,i) => (
                <div key={i} className={`agent-card ${i===0&&memFlash?"memory-flash":""}`} style={S({padding:"7px 10px", fontSize:10, color:"#64748B", lineHeight:1.6})}>
                  <span style={S({color:"#00D4FF", marginRight:6})}>‚Ä∫</span>{item}
                </div>
              ))}
            </div>
          </div>
        </div>

        {/* MAIN */}
        <div className="main-panel">
          <div className="scenarios-bar">
            <span className="section-label" style={S({marginBottom:0, flexShrink:0})}>Scenarios:</span>
            {SCENARIOS.map(s=><button key={s.id} className="scenario-btn" disabled={isRunning} onClick={()=>runScenario(s)}>{s.label}</button>)}
            {activeScenario && !isRunning && <button className="reset-btn" onClick={reset}>‚Ü∫ Reset</button>}
          </div>

          <div className="content-area">
            {!activeScenario ? (
              <div className="empty-state">
                <div style={S({fontSize:42})}>‚ö°</div>
                <div style={S({fontSize:13, letterSpacing:"0.1em"})}>SELECT A SCENARIO TO RUN</div>
                <div style={S({fontSize:11, color:"#1E2130"})}>Agents will reason ‚Üí plan ‚Üí execute ‚Üí remember</div>
              </div>
            ) : (
              <>
                <div className="trace-panel">
                  <div className="section-label">Execution Trace</div>
                  <div className="agent-card" style={S({padding:"11px 14px", borderColor:"#2D3748"})}>
                    <div style={S({fontSize:10, color:"#475569", marginBottom:5})}>USER QUERY</div>
                    <div style={S({fontSize:12, color:"#E2E8F0", lineHeight:1.7})}>{activeScenario.query}</div>
                  </div>
                  {completedSteps.map((step,i)=>{
                    const tool=AGENT_TOOLS[step.tool];
                    return (
                      <div key={i} className="step-enter agent-card" style={S({padding:"9px 12px"})}>
                        <div style={S({display:"flex", alignItems:"center", gap:8, marginBottom:4})}>
                          <span className="tool-chip" style={S({color:tool.color, borderColor:tool.color+"40", background:tool.color+"10"})}>{tool.icon} {tool.name}</span>
                          <span style={S({fontSize:10, color:"#10B981", marginLeft:"auto"})}>‚úì</span>
                        </div>
                        <div style={S({fontSize:11, color:"#64748B", lineHeight:1.6})}>{step.thought}</div>
                      </div>
                    );
                  })}
                  {activeStep && (
                    <div className="step-enter agent-card" style={S({padding:"9px 12px", borderColor:AGENT_TOOLS[activeStep.tool].color+"60"})}>
                      <div style={S({display:"flex", alignItems:"center", gap:8, marginBottom:4})}>
                        <span className="tool-chip" style={S({color:AGENT_TOOLS[activeStep.tool].color, borderColor:AGENT_TOOLS[activeStep.tool].color+"60", background:AGENT_TOOLS[activeStep.tool].color+"15"})}>{AGENT_TOOLS[activeStep.tool].icon} {AGENT_TOOLS[activeStep.tool].name}</span>
                        <div className="pulse-dot" style={S({background:AGENT_TOOLS[activeStep.tool].color, marginLeft:"auto"})} />
                      </div>
                      <div style={S({fontSize:11, color:"#94A3B8", lineHeight:1.6})}>{activeStep.thought}</div>
                    </div>
                  )}
                  {isRunning && <div style={S({fontSize:10, color:"#475569", textAlign:"center", padding:8})}>agent reasoning in progress...</div>}
                </div>

                <div className="output-panel">
                  <div className="section-label">Agent Output</div>
                  {!showResult ? (
                    <div style={S({display:"flex", alignItems:"center", justifyContent:"center", height:200, color:"#2D3748", fontSize:12, flexDirection:"column", gap:8})}>
                      {isRunning ? <><div style={S({fontSize:24, animation:"pulse 1s infinite"})}>‚ö°</div><span>generating response...</span></> : <span>awaiting execution</span>}
                    </div>
                  ) : (
                    <div className="result-enter agent-card" style={S({padding:16, borderColor:"#10B98140"})}>
                      <div style={S({display:"flex", alignItems:"center", gap:8, marginBottom:14, paddingBottom:10, borderBottom:"1px solid #1E2130"})}>
                        <div style={S({width:6, height:6, borderRadius:"50%", background:"#10B981"})} />
                        <span style={S({fontSize:10, color:"#10B981", letterSpacing:"0.1em"})}>COMPLETED ‚Äî {activeScenario.steps.length} STEPS EXECUTED</span>
                      </div>
                      <div style={S({fontSize:12, color:"#CBD5E1", lineHeight:1.9, whiteSpace:"pre-line"})}>{activeScenario.result}</div>
                    </div>
                  )}
                </div>
              </>
            )}
          </div>
        </div>
      </div>

      {/* FOOTER */}
      <div style={S({borderTop:"1px solid #1E2130", padding:"9px 24px", display:"flex", alignItems:"center", justifyContent:"space-between", fontSize:10, color:"#334155"})}>
        <span>LangGraph + Multi-Agent Orchestration + Persistent Memory + Model Routing</span>
        <span>Built by Raghda Emara ‚Äî Senior AI Engineer</span>
      </div>
    </div>
  );
}

ReactDOM.createRoot(document.getElementById('root')).render(<App />);
</script>
</body>
</html>
